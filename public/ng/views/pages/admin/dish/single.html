<div class="page-header">
    <h1 ng-if="dishManage.type == 'create'">Create Dish</h1>
    <h1 ng-if="dishManage.type == 'edit'">Edit Dish</h1>
</div>
<div class="row" ng-show="dishManage.message">
    <div class="alert alert-info alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span>
        </button>
        {{dishManage.message}}
    </div>
</div>
<div class="thumbnail"><img src="{{dishManage.dish.imageUrl}}">
</div>
<form class="form-horizontal" ng-submit="dishManage.save()">
    <div class="form-group">
        <label for="inputName" class="col-sm-2 control-label">Name</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="inputName" placeholder="Name" ng-model="dishManage.dish.name">
        </div>
    </div>
    <div class="form-group">
        <label for="inputImageUrl" class="col-sm-2 control-label">MainImage</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="inputImageUrl" placeholder="ImageUrl" ng-model="dishManage.dish.imageUrl">
        </div>
    </div>
    <div class="form-group">
        <label for="inputTags" class="col-sm-2 control-label">Tags</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="inputTags" placeholder="seperate tags by comma" ng-model="dishManage.dish.tags" ng-list>
        </div>
    </div>
    <div class="form-group">
        <label for="inputIngredients" class="col-sm-2 control-label">Ingredients</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" id="inputIngredients" placeholder="seperate tags by comma" ng-model="dishManage.dish.ingredients" ng-list>
        </div>
    </div>
    <div class="form-group">
        <label for="inputInstructions" class="col-sm-2 control-label">Instructions</label>
    </div>
    <div class="form-group" ng-repeat="instruction in dishManage.dish.instructions">
        <div class="col-sm-2 text-right">
            <a class="btn btn-default btn-sm" href="#" ng-click="dishManage.removeInstruction($index)">remove</a>
            <label class="control-label">{{$index+1}}</label>
        </div>
        <div class="col-sm-10">
            <p class="col-sm-10 form-control" contenteditable ng-model="dishManage.dish.instructions[$index]" title="click to edit">{{instruction}}</p>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">{{dishManage.dish.instructions.length +1}}</label>
        <div class="col-sm-10">
            <textarea class="form-control" rows=3 ng-model="dishManage.newInstruction"></textarea>
        </div>
    </div>
    <div ng-if="dishManage.newInstruction.length > 0" class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <a ng-click="dishManage.addInstruction()" class="btn btn-default">Plus One</a>
        </div>
    </div>
    <hr class="divider">
    <div class="form-group">
        <div class="col-sm-offset-10 col-sm-2 text-right">
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </div>
</form>
