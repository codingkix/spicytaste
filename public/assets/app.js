angular.module("spicyTaste",["ngRoute","angular-md5","ngMaterial","ngAnimate","ngMessages"]).constant("CONSTANTS",{FB_APP_ID:0x58e0e66b31adc,FACEBOOK:"FB",EMAIL:"EMAIL",SOCIAL_PASS:"PASSWORD",LOCAL_STORAGE_KEY:"spicyTasteUser",LATEST_COUNT:10}),angular.module("spicyTaste").config(["$mdThemingProvider","$mdIconProvider",function(e,n){var t=e.extendPalette("deep-orange",{500:"f27242"}),o=e.extendPalette("blue",{500:"6984b4",600:"6984b4"});e.definePalette("primaryOrange",t),e.definePalette("primaryBlue",o),e.theme("default").primaryPalette("primaryOrange").accentPalette("light-green"),e.theme("blue").primaryPalette("primaryBlue"),n.icon("menu","svg/ic_menu_24px.svg").icon("share","svg/ic_share_48px.svg").icon("login","svg/ic_account_circle_24px.svg").icon("recipes","svg/ic_event_note_48px.svg").icon("restaurants","svg/ic_restaurant_menu_48px.svg").icon("ingredients","svg/ic_receipt_48px.svg").icon("arrow","svg/ic_arrow_drop_up_48px.svg").icon("more","svg/ic_more_24px.svg").icon("time1","svg/ic_av_timer_24px.svg").icon("time2","svg/ic_access_time_24px.svg").icon("difficulty","svg/ic_track_changes_24px.svg").icon("exit","svg/ic_exit_to_app_48px.svg").icon("photo","svg/ic_mms_24px.svg").icon("check","svg/ic_check_circle_24px.svg").icon("facebook","svg/facebook.svg").icon("twitter","svg/twitter.svg").icon("pinterest","svg/pinterest.svg").icon("comments","svg/ic_chat_48px.svg")}]),angular.module("spicyTaste").run(["$rootScope","$window","UserService","CONSTANTS",function(e,n,t,o){e.user=null,n.fbAsyncInit=function(){FB.init({appId:o.FB_APP_ID,cookie:!0,xfbml:!0,version:"v2.2"})},function(e,n,t){var o,i=e.getElementsByTagName(n)[0];e.getElementById(t)||(o=e.createElement(n),o.id=t,o.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(o,i))}(document,"script","facebook-jssdk")}]),angular.module("spicyTaste").config(["$locationProvider","$routeProvider",function(e,n){e.html5Mode(!0),n.when("/",{templateUrl:"ng/views/pages/home.html",controller:"HomeController",controllerAs:"home"}).when("/dishes",{templateUrl:"ng/views/pages/dish/all.html",controller:"DishListController",controllerAs:"dishList"}).when("/dishes/:dish_id",{templateUrl:"ng/views/pages/dish/detail.html",controller:"DishDetailController",controllerAs:"dishDetail"}).when("/admin/dishes/list",{templateUrl:"ng/views/pages/admin/dish/list.html",controller:"DishListController",controllerAs:"dishList"}).when("/admin/dishes/create",{templateUrl:"ng/views/pages/admin/dish/single.html",controller:"DishCreateController",controllerAs:"dishManage"}).when("/admin/dishes/:dish_id",{templateUrl:"ng/views/pages/admin/dish/single.html",controller:"DishEditController",controllerAs:"dishManage"}).when("/login",{templateUrl:"ng/views/pages/user/login.html",controller:"LoginController",controllerAs:"login"}).when("/me",{templateUrl:"ng/views/pages/user/me.html",controller:"ProfileController",controllerAs:"me"})}]),angular.module("spicyTaste").directive("contenteditable",function(){return{require:"ngModel",restrict:"A",link:function(e,n,t,o){o.$render=function(){n.html(o.$viewValue||"")},n.bind("blur",function(){e.$apply(function(){o.$setViewValue(n.html())})})}}}),angular.module("spicyTaste").directive("focusOn",function(){return{restrict:"A",scope:{focusValue:"=focusOn"},link:function(e,n){e.$watch("focusValue",function(e,t){e&&!t&&n[0].focus()})}}}),angular.module("spicyTaste").controller("DishListController",["DishService","SocialService","$location",function(e,n,t){var o=this;o.processing=!0,e.all().success(function(e){o.processing=!1,o.dishes=e}),o.deleteDish=function(n){o.processing=!0,e["delete"](n).success(function(n){e.all().success(function(e){o.processing=!1,o.dishes=e})})},o.addDish=function(){o.processing=!0,e.create({name:"new dish"}).success(function(e){t.path("/admin/dish/"+e.dish._id)})},o.fbShare=function(e){var o=t.absUrl()+"/"+e._id;n.fbShare(o)}}]).controller("DishDetailController",["$scope","$location","$rootScope","$routeParams","$mdDialog","DishService","UserService","SocialService",function(e,n,t,o,i,s,r,c){function a(){}function l(e,n,t){i.show({targetEvent:n,clickOutsideToClose:!0,templateUrl:"ng/views/dialogs/comment.html",locals:{title:e},controller:u,controllerAs:"comment"}).then(function(e){s.addComment(d.dish._id,{content:e,replyTo:t}).success(function(e){d.dish.comments.push(e)})})}function u(e,n){var t=this;t.content="",t.title=e,t.closeDialog=function(){n.cancel()},t.submit=function(){""==t.content.trim()?n.cancel():n.hide(t.content)}}var d=this;d.dish={},a(),s.get(o.dish_id).success(function(e){d.dish=e,d.dish.isCollected=t.user&&t.user.favouriteDishes.indexOf(d.dish._id)>=0?!0:!1}),d.fbShare=function(e){var t=n.absUrl()+"/"+e._id;c.fbShare(t)},d.reply=function(e,n){var t="@"+e.userName;l(t,n,e._id)},d.collect=function(){if(!t.user){var e=n.url();return n.path("/login").search({returnUrl:e})}r.collect(d.dish._id).then(function(e){console.log("UserService.collect:",e),e.success&&(d.dish.isCollected=!0)})},d.showInstructionPhoto=function(e,n){null!=e&&""!=e.trim()&&i.show({targetEvent:n,clickOutsideToClose:!0,template:'<md-dialog>  <md-dialog-content><img src="{{photo}}"></md-dialog-content></md-dialog>',controller:["$scope",function(n){n.photo=e}]})},d.newComment=function(e){l("Comment",e,null)},u.$inject=["title","$mdDialog"]}]).controller("DishCreateController",["$location","DishService",function(e,n){var t=this;t.dish={name:"new dish"},t.save=function(){t.processing=!0,n.create(t.dish).success(function(n){e.path("/admin/dish/"+n.dish._id)})}}]).controller("DishEditController",["$routeParams","DishService","$location",function(e,n,t){function o(){i.newPhoto="",i.newInstruction="",i.message="",i.processing=!1}var i=this;o(),n.get(e.dish_id).success(function(e){i.dish=e}),i.addInstruction=function(){i.dish.instructions.push(i.newInstruction),i.newInstruction=""},i.removeInstruction=function(e){i.dish.instructions.splice(e,1)},i.addPhoto=function(){console.log("newPhoto: ",i.newPhoto),i.dish.photos.push(i.newPhoto),console.log("dish:",i.dish),i.newPhoto=""},i.removePhoto=function(e){i.dish.photos.splice(e,1)},i.save=function(){i.processing=!0,n.update(e.dish_id,i.dish).success(function(e){o(),i.message=e.message})}}]),angular.module("spicyTaste").controller("HomeController",["DishService","CONSTANTS",function(e,n){function t(){i.recipeTiles=[],o()}function o(){e.limit(n.LATEST_COUNT).success(function(e){angular.forEach(e,function(e,n){var t={image:e.imageUrl,title:e.name,id:e._id,prepTime:e.prepTime,totalTime:e.totalTime,difficulty:e.difficulty,tags:e.tags,span:{row:1,col:1}};switch(n+1){case 1:t.span.row=t.span.col=2;break;case 2:case 3:break;case 4:t.span.col=2;case 5:case 6:break;case 7:t.span.row=t.span.col=2;case 8:case 9:break;case 10:t.span.col=2}i.recipeTiles.push(t)})})}var i=this;t()}]),angular.module("spicyTaste").controller("MainController",["$rootScope","$location","$mdDialog","$http","SessionService","UserService","CONSTANTS",function(e,n,t,o,i,s,r){function c(e){var n=o.defaults.headers.common["X-Auth"];i.setLocal(r.LOCAL_STORAGE_KEY,n),t.hide(e)}function a(){l.showMobileMenu=!1,l.email="",l.password="",l.userName="";var n=i.getLocal(r.LOCAL_STORAGE_KEY);n&&(o.defaults.headers.common["X-Auth"]=n,s.get().then(function(n){e.currentUser=n}))}var l=this;a(),l.toggleMobileMenu=function(){l.showMobileMenu=!l.showMobileMenu},l.showLoginDialog=function(n){t.show({clickOutsideToClose:!0,templateUrl:"ng/views/dialogs/login.html",targetEvent:n,controller:"MainController",controllerAs:"main"}).then(function(n){e.currentUser=n})},l.fbLogin=function(){FB.login(function(e){"connected"===e.status?FB.api("/me",function(e){var n={userName:e.name,email:e.email,password:r.SOCIAL_PASS,photoUrl:"http://graph.facebook.com/"+e.id+"/picture?type=large",linkedSocial:r.FACEBOOK};s.socialLogin(n).then(function(e){e.loginType=r.FACEBOOK,c(e)})}):"not_authorized"===e.status},{scope:"public_profile,email"})},l.login=function(){s.login(l.email,l.password).then(function(e){e.loginType=r.EMAIL,c(e)})},l.signUp=function(){var e={userName:l.userName,email:l.email,password:l.password,photoUrl:"http://www.gravatar.com/avatar/"+md5.createHash(l.email),linkedSocial:r.EMAIL};s.create(e).then(function(e){e.loginType=r.EMAIL,c(e)})}}]),angular.module("spicyTaste").controller("ProfileController",["$location","$rootScope","UserService",function(e,n,t){function o(){i.user={},t.get().then(function(e){i.user=e})}var i=this;o(),i.logout=function(){t.logout(),n.currentUser=null,e.path("/")}}]),angular.module("spicyTaste").factory("DishService",["$http",function(e){var n={};return n.all=function(){return e.get("/api/dishes")},n.limit=function(n){return e.get("/api/dishes?limit="+n)},n.create=function(n){return e.post("/api/dishes",n)},n.get=function(n){return e.get("/api/dishes/"+n)},n.update=function(n,t){return e.put("/api/dishes/"+n,t)},n["delete"]=function(n){return e["delete"]("/api/dishes/"+n)},n.addComment=function(n,t){return e.post("/api/dishes/"+n+"/comments",t)},n.getDifficulties=function(){return["初学","容易","一般","较难","专业"]},n}]),angular.module("spicyTaste").factory("SessionService",["$window",function(e){var n={};return n.getLocal=function(n){if(e.localStorage){var t=e.localStorage.getItem(n);return angular.fromJson(t)}return!1},n.setLocal=function(n,t){return e.localStorage&&e.localStorage.setItem(n,angular.toJson(t))},n}]),angular.module("spicyTaste").factory("SocialService",function(){var e={};return e.fbShare=function(e){FB.ui({method:"share",href:e},function(e){})},e}),angular.module("spicyTaste").factory("UserService",["$http","$rootScope","$window","CONSTANTS",function(e,n,t,o){var i={};return i.socialLogin=function(e){return console.log("socialUser: ",e),i.searchBy("email="+e.email).then(function(n){if(n.success){var t=n.users[0];return t.linkedSocial.indexOf(e.linkedSocial)<0?(t.linkedSocial.push(e.linkedSocial),t.userName=e.userName,t.photoUrl=e.photoUrl,i.update(t).then(function(){return i.login(t.email,o.SOCIAL_PASS)})):i.login(t.email,o.SOCIAL_PASS)}return i.create(e)})},i.login=function(n,t){return e.post("/api/auth",{email:n,password:t}).then(function(n){return e.defaults.headers.common["X-Auth"]=n.data,i.get()})},i.logout=function(){delete e.defaults.headers.common["X-Auth"],t.localStorage.removeItem(o.LOCAL_STORAGE_KEY)},i.get=function(){return e.get("/api/users/me").then(function(e){return e.data})},i.searchBy=function(n){return e.get("/api/users?"+n).then(function(e){return e.data})},i.getById=function(n){return e.get("/api/users/"+n).then(function(e){return e.data})},i.create=function(n){return e.post("/api/users/",n).then(function(){return i.login(n.email,n.password)})},i.update=function(n,t){return e.put("/api/users/"+n,t).then(function(e){return e.data})},i.collect=function(t){return e.put("/api/users/"+n.user._id+"/dishes/"+t).then(function(e){return e.data})},i}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImRlc2lnbi5qcyIsImZhY2Vib29rLmpzIiwicm91dGVzLmpzIiwiZGlyZWN0aXZlcy9jb250ZW50ZWRpdGFibGVEaXJlY3RpdmUuanMiLCJkaXJlY3RpdmVzL2ZvY3VzT25EaXJlY3RpdmUuanMiLCJjb250cm9sbGVycy9kaXNoQ29udHJvbGxlci5qcyIsImFwcC5qcyIsImNvbnRyb2xsZXJzL2hvbWVDb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvbWFpbkNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9wcm9maWxlQ29udHJvbGxlci5qcyIsInNlcnZpY2VzL2Rpc2hTZXJ2aWNlLmpzIiwic2VydmljZXMvc2Vzc2lvblNlcnZpY2UuanMiLCJzZXJ2aWNlcy9zb2NpYWxTZXJ2aWNlLmpzIiwic2VydmljZXMvdXNlclNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwiRkJfQVBQX0lEIiwiRkFDRUJPT0siLCJFTUFJTCIsIlNPQ0lBTF9QQVNTIiwiTE9DQUxfU1RPUkFHRV9LRVkiLCJMQVRFU1RfQ09VTlQiLCJjb25maWciLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCIkbWRJY29uUHJvdmlkZXIiLCJwcmltYXJ5T3JhbmdlIiwiZXh0ZW5kUGFsZXR0ZSIsIjUwMCIsInByaW1hcnlCbHVlIiwiNjAwIiwiZGVmaW5lUGFsZXR0ZSIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwiaWNvbiIsInJ1biIsIiRyb290U2NvcGUiLCIkd2luZG93IiwiVXNlclNlcnZpY2UiLCJDT05TVEFOVFMiLCJ1c2VyIiwiZmJBc3luY0luaXQiLCJGQiIsImluaXQiLCJhcHBJZCIsImNvb2tpZSIsInhmYm1sIiwidmVyc2lvbiIsImQiLCJzIiwiaWQiLCJqcyIsImZqcyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZ2V0RWxlbWVudEJ5SWQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImRvY3VtZW50IiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkcm91dGVQcm92aWRlciIsImh0bWw1TW9kZSIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJkaXJlY3RpdmUiLCJyZXF1aXJlIiwicmVzdHJpY3QiLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cmlidXRzIiwibmdNb2RlbCIsIiRyZW5kZXIiLCJodG1sIiwiJHZpZXdWYWx1ZSIsImJpbmQiLCIkYXBwbHkiLCIkc2V0Vmlld1ZhbHVlIiwiZm9jdXNWYWx1ZSIsIiRzY29wZSIsIiRlbGVtZW50IiwiJHdhdGNoIiwiY3VycmVudFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsImZvY3VzIiwiRGlzaFNlcnZpY2UiLCJTb2NpYWxTZXJ2aWNlIiwiJGxvY2F0aW9uIiwidm0iLCJ0aGlzIiwicHJvY2Vzc2luZyIsImFsbCIsInN1Y2Nlc3MiLCJkYXRhIiwiZGlzaGVzIiwiZGVsZXRlRGlzaCIsImFkZERpc2giLCJjcmVhdGUiLCJuYW1lIiwicGF0aCIsImRpc2giLCJfaWQiLCJmYlNoYXJlIiwiZGlzaExpbmsiLCJhYnNVcmwiLCIkcm91dGVQYXJhbXMiLCIkbWREaWFsb2ciLCJvcGVuQ29tbWVudERpYWxvZyIsInRpdGxlIiwiJGV2ZW50IiwicmVwbHlUbyIsInNob3ciLCJ0YXJnZXRFdmVudCIsImNsaWNrT3V0c2lkZVRvQ2xvc2UiLCJsb2NhbHMiLCJjb21tZW50Q29udHJvbGxlciIsInRoZW4iLCJjb250ZW50IiwiYWRkQ29tbWVudCIsImNvbW1lbnQiLCJjb21tZW50cyIsInB1c2giLCJkdm0iLCJjbG9zZURpYWxvZyIsImNhbmNlbCIsInN1Ym1pdCIsInRyaW0iLCJoaWRlIiwiZ2V0IiwiZGlzaF9pZCIsImlzQ29sbGVjdGVkIiwiZmF2b3VyaXRlRGlzaGVzIiwiaW5kZXhPZiIsInJlcGx5IiwiY29tbWVudFRpdGxlIiwidXNlck5hbWUiLCJjb2xsZWN0IiwicmV0dXJuVXJsIiwidXJsIiwic2VhcmNoIiwiY29uc29sZSIsImxvZyIsInNob3dJbnN0cnVjdGlvblBob3RvIiwicGhvdG9VcmwiLCJ0ZW1wbGF0ZSIsInBob3RvIiwibmV3Q29tbWVudCIsIiRpbmplY3QiLCJzYXZlIiwibmV3UGhvdG8iLCJuZXdJbnN0cnVjdGlvbiIsIm1lc3NhZ2UiLCJhZGRJbnN0cnVjdGlvbiIsImluc3RydWN0aW9ucyIsInJlbW92ZUluc3RydWN0aW9uIiwiaW5kZXgiLCJzcGxpY2UiLCJhZGRQaG90byIsInBob3RvcyIsInJlbW92ZVBob3RvIiwidXBkYXRlIiwicmVjaXBlVGlsZXMiLCJidWlsZEdyaWQiLCJsaW1pdCIsImZvckVhY2giLCJ0aWxlIiwiaW1hZ2UiLCJpbWFnZVVybCIsInByZXBUaW1lIiwidG90YWxUaW1lIiwiZGlmZmljdWx0eSIsInRhZ3MiLCJzcGFuIiwicm93IiwiY29sIiwiJGh0dHAiLCJTZXNzaW9uU2VydmljZSIsImFmdGVyQXV0aCIsInRva2VuIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwic2V0TG9jYWwiLCJzaG93TW9iaWxlTWVudSIsImVtYWlsIiwicGFzc3dvcmQiLCJsb2dpbmVkVG9rZW4iLCJnZXRMb2NhbCIsImN1cnJlbnRVc2VyIiwidG9nZ2xlTW9iaWxlTWVudSIsInNob3dMb2dpbkRpYWxvZyIsImV2IiwiZmJMb2dpbiIsImxvZ2luIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJhcGkiLCJmYlVzZXIiLCJsaW5rZWRTb2NpYWwiLCJzb2NpYWxMb2dpbiIsImxvZ2luVHlwZSIsInNpZ25VcCIsIm5ld1VzZXIiLCJtZDUiLCJjcmVhdGVIYXNoIiwibG9nb3V0IiwiZmFjdG9yeSIsImRpc2hGYWN0b3J5IiwibnVtIiwicG9zdCIsInB1dCIsImdldERpZmZpY3VsdGllcyIsInNlc3Npb25GYWN0b3J5Iiwia2V5IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImZyb21Kc29uIiwic2V0SXRlbSIsInRvSnNvbiIsInNvY2lhbEZhY3RvcnkiLCJ1aSIsIm1ldGhvZCIsImhyZWYiLCJ1c2VyRmFjdG9yeSIsInNvY2lhbFVzZXIiLCJzZWFyY2hCeSIsInVzZXJzIiwicmVtb3ZlSXRlbSIsInF1ZXJ5IiwiZ2V0QnlJZCIsInVzZXJfaWQiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLGNBQUEsVUFBQSxjQUFBLGFBQUEsWUFBQSxlQUNBQyxTQUFBLGFBQ0FDLFVBQUEsZ0JBQ0FDLFNBQUEsS0FDQUMsTUFBQSxRQUNBQyxZQUFBLFdBQ0FDLGtCQUFBLGlCQUNBQyxhQUFBLEtDUEFSLFFBQUFDLE9BQUEsY0FDQVEsUUFBQSxxQkFBQSxrQkFBQSxTQUFBQyxFQUFBQyxHQUVBLEdBQUFDLEdBQUFGLEVBQUFHLGNBQUEsZUFDQUMsSUFBQSxXQUdBQyxFQUFBTCxFQUFBRyxjQUFBLFFBQ0FDLElBQUEsU0FDQUUsSUFBQSxVQUdBTixHQUFBTyxjQUFBLGdCQUFBTCxHQUNBRixFQUFBTyxjQUFBLGNBQUFGLEdBRUFMLEVBQUFRLE1BQUEsV0FDQUMsZUFBQSxpQkFDQUMsY0FBQSxlQUVBVixFQUFBUSxNQUFBLFFBQ0FDLGVBQUEsZUFFQVIsRUFBQVUsS0FBQSxPQUFBLHdCQUNBQSxLQUFBLFFBQUEseUJBQ0FBLEtBQUEsUUFBQSxrQ0FDQUEsS0FBQSxVQUFBLDhCQUNBQSxLQUFBLGNBQUEsbUNBQ0FBLEtBQUEsY0FBQSwyQkFDQUEsS0FBQSxRQUFBLGlDQUNBQSxLQUFBLE9BQUEsd0JBQ0FBLEtBQUEsUUFBQSw0QkFDQUEsS0FBQSxRQUFBLCtCQUNBQSxLQUFBLGFBQUEsaUNBQ0FBLEtBQUEsT0FBQSwrQkFDQUEsS0FBQSxRQUFBLHVCQUNBQSxLQUFBLFFBQUEsZ0NBQ0FBLEtBQUEsV0FBQSxvQkFDQUEsS0FBQSxVQUFBLG1CQUNBQSxLQUFBLFlBQUEscUJBQ0FBLEtBQUEsV0FBQSwyQkN2Q0FyQixRQUFBQyxPQUFBLGNBQ0FxQixLQUFBLGFBQUEsVUFBQSxjQUFBLFlBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQUgsRUFB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LEVBQUFNLFFBQUEsU0FBQUMsR0FDQSxNQUFBdkQsR0FBQS9DLElBQUEsY0FBQXNHLEdBQUFsSCxLQUFBLFNBQUE4RSxHQUNBLE1BQUFBLEdBQUFyRyxRQUtBa0ksRUFBQTlILE9BQUEsU0FBQTVELEdBQ0EsTUFBQTBJLEdBQUFrQyxLQUFBLGNBQUE1SyxHQUFBK0UsS0FBQSxXQUNBLE1BQUEyRyxHQUFBOUIsTUFBQTVKLEVBQUFtSixNQUFBbkosRUFBQW9KLGFBS0FzQyxFQUFBL0QsT0FBQSxTQUFBc0UsRUFBQWpNLEdBQ0EsTUFBQTBJLEdBQUFtQyxJQUFBLGNBQUFvQixFQUFBak0sR0FBQStFLEtBQUEsU0FBQThFLEdBQ0EsTUFBQUEsR0FBQXJHLFFBS0FrSSxFQUFBdkYsUUFBQSxTQUFBUCxHQUNBLE1BQUE4QyxHQUFBbUMsSUFBQSxjQUFBakwsRUFBQUksS0FBQWdFLElBQUEsV0FBQTRCLEdBQUFiLEtBQUEsU0FBQThFLEdBQ0EsTUFBQUEsR0FBQXJHLFFBSUFrSSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnc3BpY3lUYXN0ZScsIFsnbmdSb3V0ZScsICdhbmd1bGFyLW1kNScsICduZ01hdGVyaWFsJywgJ25nQW5pbWF0ZScsICduZ01lc3NhZ2VzJ10pXG4gICAgLmNvbnN0YW50KCdDT05TVEFOVFMnLCB7XG4gICAgICAgIFwiRkJfQVBQX0lEXCI6IDE1NjM1NjczODcyNTM0NjgsXG4gICAgICAgIFwiRkFDRUJPT0tcIjogXCJGQlwiLFxuICAgICAgICBcIkVNQUlMXCI6IFwiRU1BSUxcIixcbiAgICAgICAgXCJTT0NJQUxfUEFTU1wiOiBcIlBBU1NXT1JEXCIsXG4gICAgICAgIFwiTE9DQUxfU1RPUkFHRV9LRVlcIjogXCJzcGljeVRhc3RlVXNlclwiLFxuICAgICAgICBcIkxBVEVTVF9DT1VOVFwiOiAxMFxuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3NwaWN5VGFzdGUnKVxuICAgIC5jb25maWcoZnVuY3Rpb24oJG1kVGhlbWluZ1Byb3ZpZGVyLCAkbWRJY29uUHJvdmlkZXIpIHtcblxuICAgICAgICB2YXIgcHJpbWFyeU9yYW5nZSA9ICRtZFRoZW1pbmdQcm92aWRlci5leHRlbmRQYWxldHRlKCdkZWVwLW9yYW5nZScsIHtcbiAgICAgICAgICAgICc1MDAnOiAnZjI3MjQyJ1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgcHJpbWFyeUJsdWUgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgnYmx1ZScsIHtcbiAgICAgICAgICAgICc1MDAnOiAnNjk4NGI0JyxcbiAgICAgICAgICAgICc2MDAnOiAnNjk4NGI0J1xuICAgICAgICB9KTtcblxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgncHJpbWFyeU9yYW5nZScsIHByaW1hcnlPcmFuZ2UpO1xuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgncHJpbWFyeUJsdWUnLCBwcmltYXJ5Qmx1ZSk7XG5cbiAgICAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcbiAgICAgICAgICAgIC5wcmltYXJ5UGFsZXR0ZSgncHJpbWFyeU9yYW5nZScpXG4gICAgICAgICAgICAuYWNjZW50UGFsZXR0ZSgnbGlnaHQtZ3JlZW4nKTtcblxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2JsdWUnKVxuICAgICAgICAgICAgLnByaW1hcnlQYWxldHRlKCdwcmltYXJ5Qmx1ZScpO1xuXG4gICAgICAgICRtZEljb25Qcm92aWRlci5pY29uKCdtZW51JywgJ3N2Zy9pY19tZW51XzI0cHguc3ZnJylcbiAgICAgICAgICAgIC5pY29uKCdzaGFyZScsICdzdmcvaWNfc2hhcmVfNDhweC5zdmcnKVxuICAgICAgICAgICAgLmljb24oJ2xvZ2luJywgJ3N2Zy9pY19hY2NvdW50X2NpcmNsZV8yNHB4LnN2ZycpXG4gICAgICAgICAgICAuaWNvbigncmVjaXBlcycsICdzdmcvaWNfZXZlbnRfbm90ZV80OHB4LnN2ZycpXG4gICAgICAgICAgICAuaWNvbigncmVzdGF1cmFudHMnLCAnc3ZnL2ljX3Jlc3RhdXJhbnRfbWVudV80OHB4LnN2ZycpXG4gICAgICAgICAgICAuaWNvbignaW5ncmVkaWVudHMnLCAnc3ZnL2ljX3JlY2VpcHRfNDhweC5zdmcnKVxuICAgICAgICAgICAgLmljb24oJ2Fycm93JywgJ3N2Zy9pY19hcnJvd19kcm9wX3VwXzQ4cHguc3ZnJylcbiAgICAgICAgICAgIC5pY29uKCdtb3JlJywgJ3N2Zy9pY19tb3JlXzI0cHguc3ZnJylcbiAgICAgICAgICAgIC5pY29uKCd0aW1lMScsICdzdmcvaWNfYXZfdGltZXJfMjRweC5zdmcnKVxuICAgICAgICAgICAgLmljb24oJ3RpbWUyJywgJ3N2Zy9pY19hY2Nlc3NfdGltZV8yNHB4LnN2ZycpXG4gICAgICAgICAgICAuaWNvbignZGlmZmljdWx0eScsICdzdmcvaWNfdHJhY2tfY2hhbmdlc18yNHB4LnN2ZycpXG4gICAgICAgICAgICAuaWNvbignZXhpdCcsICdzdmcvaWNfZXhpdF90b19hcHBfNDhweC5zdmcnKVxuICAgICAgICAgICAgLmljb24oJ3Bob3RvJywgJ3N2Zy9pY19tbXNfMjRweC5zdmcnKVxuICAgICAgICAgICAgLmljb24oJ2NoZWNrJywgJ3N2Zy9pY19jaGVja19jaXJjbGVfMjRweC5zdmcnKVxuICAgICAgICAgICAgLmljb24oJ2ZhY2Vib29rJywgJ3N2Zy9mYWNlYm9vay5zdmcnKVxuICAgICAgICAgICAgLmljb24oJ3R3aXR0ZXInLCAnc3ZnL3R3aXR0ZXIuc3ZnJylcbiAgICAgICAgICAgIC5pY29uKCdwaW50ZXJlc3QnLCAnc3ZnL3BpbnRlcmVzdC5zdmcnKVxuICAgICAgICAgICAgLmljb24oJ2NvbW1lbnRzJywgJ3N2Zy9pY19jaGF0XzQ4cHguc3ZnJyk7XG4gICAgfSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnc3BpY3lUYXN0ZScpXG4gICAgLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlLCAkd2luZG93LCBVc2VyU2VydmljZSwgQ09OU1RBTlRTKSB7XG4gICAgICAgICRyb290U2NvcGUudXNlciA9IG51bGw7XG5cbiAgICAgICAgJHdpbmRvdy5mYkFzeW5jSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgRkIuaW5pdCh7XG4gICAgICAgICAgICAgICAgYXBwSWQ6IENPTlNUQU5UUy5GQl9BUFBfSUQsXG4gICAgICAgICAgICAgICAgY29va2llOiB0cnVlLCAvLyBlbmFibGUgY29va2llcyB0byBhbGxvdyB0aGUgc2VydmVyIHRvIGFjY2VzcyB0aGUgc2Vzc2lvblxuICAgICAgICAgICAgICAgIHhmYm1sOiB0cnVlLCAvLyBwYXJzZSBzb2NpYWwgcGx1Z2lucyBvbiB0aGlzIHBhZ2VcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiAndjIuMicgLy8gdXNlIHZlcnNpb24gMi4yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBMb2FkIHRoZSBTREsgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgKGZ1bmN0aW9uKGQsIHMsIGlkKSB7XG4gICAgICAgICAgICB2YXIganMsIGZqcyA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUocylbMF07XG4gICAgICAgICAgICBpZiAoZC5nZXRFbGVtZW50QnlJZChpZCkpIHJldHVybjtcbiAgICAgICAgICAgIGpzID0gZC5jcmVhdGVFbGVtZW50KHMpO1xuICAgICAgICAgICAganMuaWQgPSBpZDtcbiAgICAgICAgICAgIGpzLnNyYyA9IFwiLy9jb25uZWN0LmZhY2Vib29rLm5ldC9lbl9VUy9zZGsuanNcIjtcbiAgICAgICAgICAgIGZqcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqcywgZmpzKTtcbiAgICAgICAgfShkb2N1bWVudCwgJ3NjcmlwdCcsICdmYWNlYm9vay1qc3NkaycpKTtcbiAgICB9KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdzcGljeVRhc3RlJylcbiAgICAuY29uZmlnKGZ1bmN0aW9uKCRsb2NhdGlvblByb3ZpZGVyLCAkcm91dGVQcm92aWRlcikge1xuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG5cbiAgICAgICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgICAgLy9ob21lIHBhZ2VcbiAgICAgICAgICAgIC53aGVuKCcvJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbmcvdmlld3MvcGFnZXMvaG9tZS5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnSG9tZUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2hvbWUnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLy9zaG93IGFsbCBkaXNoZXMgcGFnZVxuICAgICAgICAgICAgLndoZW4oJy9kaXNoZXMnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICduZy92aWV3cy9wYWdlcy9kaXNoL2FsbC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnRGlzaExpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdkaXNoTGlzdCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvL3Nob3cgZGlzaCBkZXRhaWwgcGFnZVxuICAgICAgICAgICAgLndoZW4oJy9kaXNoZXMvOmRpc2hfaWQnLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICduZy92aWV3cy9wYWdlcy9kaXNoL2RldGFpbC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnRGlzaERldGFpbENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2Rpc2hEZXRhaWwnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLy9saXN0IGFkbWluIGRpc2ggcGFnZVxuICAgICAgICAgICAgLndoZW4oJy9hZG1pbi9kaXNoZXMvbGlzdCcsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ25nL3ZpZXdzL3BhZ2VzL2FkbWluL2Rpc2gvbGlzdC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnRGlzaExpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdkaXNoTGlzdCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvL2NyZWF0ZSBhIG5ldyBkaXNoIHBhZ2VcbiAgICAgICAgICAgIC53aGVuKCcvYWRtaW4vZGlzaGVzL2NyZWF0ZScsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ25nL3ZpZXdzL3BhZ2VzL2FkbWluL2Rpc2gvc2luZ2xlLmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdEaXNoQ3JlYXRlQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZGlzaE1hbmFnZSdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvL2VkaXQgYSBkaXNoIHBhZ2VcbiAgICAgICAgICAgIC53aGVuKCcvYWRtaW4vZGlzaGVzLzpkaXNoX2lkJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbmcvdmlld3MvcGFnZXMvYWRtaW4vZGlzaC9zaW5nbGUuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rpc2hFZGl0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZGlzaE1hbmFnZSdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvL2xvZ2luIHVzZXJcbiAgICAgICAgICAgIC53aGVuKCcvbG9naW4nLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICduZy92aWV3cy9wYWdlcy91c2VyL2xvZ2luLmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2xvZ2luJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vdXNlciBwcm9maWxlXG4gICAgICAgICAgICAud2hlbignL21lJywge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbmcvdmlld3MvcGFnZXMvdXNlci9tZS5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUHJvZmlsZUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ21lJ1xuICAgICAgICAgICAgfSlcbiAgICB9KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdzcGljeVRhc3RlJylcbiAgICAuZGlyZWN0aXZlKCdjb250ZW50ZWRpdGFibGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cmlidXRzLCBuZ01vZGVsKSB7XG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaHRtbChuZ01vZGVsLiR2aWV3VmFsdWUgfHwgJycpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoJ2JsdXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQuaHRtbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnc3BpY3lUYXN0ZScpXG4gICAgLmRpcmVjdGl2ZSgnZm9jdXNPbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgZm9jdXNWYWx1ZTogXCI9Zm9jdXNPblwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ2ZvY3VzVmFsdWUnLCBmdW5jdGlvbihjdXJyZW50VmFsdWUsIHByZXZpb3VzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSAmJiAhcHJldmlvdXNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3NwaWN5VGFzdGUnKVxuICAgIC8vY29udHJvbGxlciBhcHBsaWVkIHRvIGRpc2ggbGlzdCBwYWdlXG4gICAgLmNvbnRyb2xsZXIoJ0Rpc2hMaXN0Q29udHJvbGxlcicsIGZ1bmN0aW9uKERpc2hTZXJ2aWNlLCBTb2NpYWxTZXJ2aWNlLCAkbG9jYXRpb24pIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICAvL3NldCBhIHByb2Nlc3NpbmcgdmFyaWFibGUgdG8gc2hvdyBsb2FkaW5nXG4gICAgICAgIHZtLnByb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgICAgIC8vZ3JhYiBhbGwgdGhlIGRpc2hlcyBhdCBwYWdlIGxvYWRcbiAgICAgICAgRGlzaFNlcnZpY2UuYWxsKCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAvL3doZW4gYWxsIGRpc2hlcyBmZXRjaGVkLCByZW1vdmUgcHJvY2Vzc2luZyB2YXJpYWJsZVxuICAgICAgICAgICAgdm0ucHJvY2Vzc2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvL2JpbmQgdGhlIGRpc2hlc1xuICAgICAgICAgICAgdm0uZGlzaGVzID0gZGF0YTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9mdW5jdGlvbiB0byBkZWxldGUgYSBkaXNoXG4gICAgICAgIHZtLmRlbGV0ZURpc2ggPSBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgdm0ucHJvY2Vzc2luZyA9IHRydWU7XG5cbiAgICAgICAgICAgIERpc2hTZXJ2aWNlLmRlbGV0ZShpZCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgRGlzaFNlcnZpY2UuYWxsKCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdm0uZGlzaGVzID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmFkZERpc2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZtLnByb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICBEaXNoU2VydmljZS5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIG5hbWU6ICduZXcgZGlzaCdcbiAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYWRtaW4vZGlzaC8nICsgZGF0YS5kaXNoLl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZtLmZiU2hhcmUgPSBmdW5jdGlvbihkaXNoKSB7XG4gICAgICAgICAgICB2YXIgZGlzaExpbmsgPSAkbG9jYXRpb24uYWJzVXJsKCkgKyAnLycgKyBkaXNoLl9pZDtcbiAgICAgICAgICAgIFNvY2lhbFNlcnZpY2UuZmJTaGFyZShkaXNoTGluayk7XG4gICAgICAgIH1cblxuICAgIH0pXG4gICAgLy9jb250cm9sbGVyIGFwcGxpZWQgdG8gZGlzaCBkZXRhaWwgcGFnZVxuICAgIC5jb250cm9sbGVyKCdEaXNoRGV0YWlsQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJGxvY2F0aW9uLCAkcm9vdFNjb3BlLCAkcm91dGVQYXJhbXMsICRtZERpYWxvZywgRGlzaFNlcnZpY2UsIFVzZXJTZXJ2aWNlLCBTb2NpYWxTZXJ2aWNlKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIHZtLmRpc2ggPSB7fTtcbiAgICAgICAgaW5pdCgpO1xuXG4gICAgICAgIC8vZ2V0IHRoZSBkaXNoIGJ5IGlkXG4gICAgICAgIERpc2hTZXJ2aWNlLmdldCgkcm91dGVQYXJhbXMuZGlzaF9pZCkuc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2bS5kaXNoID0gZGF0YTtcbiAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLnVzZXIgJiYgJHJvb3RTY29wZS51c2VyLmZhdm91cml0ZURpc2hlcy5pbmRleE9mKHZtLmRpc2guX2lkKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdm0uZGlzaC5pc0NvbGxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZtLmRpc2guaXNDb2xsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICB2bS5mYlNoYXJlID0gZnVuY3Rpb24oZGlzaCkge1xuICAgICAgICAgICAgdmFyIGRpc2hMaW5rID0gJGxvY2F0aW9uLmFic1VybCgpICsgJy8nICsgZGlzaC5faWQ7XG4gICAgICAgICAgICBTb2NpYWxTZXJ2aWNlLmZiU2hhcmUoZGlzaExpbmspO1xuICAgICAgICB9XG5cbiAgICAgICAgdm0ucmVwbHkgPSBmdW5jdGlvbih1c2VyLCAkZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBjb21tZW50VGl0bGUgPSAnQCcgKyB1c2VyLnVzZXJOYW1lO1xuICAgICAgICAgICAgb3BlbkNvbW1lbnREaWFsb2coY29tbWVudFRpdGxlLCAkZXZlbnQsIHVzZXIuX2lkKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2bS5jb2xsZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoISRyb290U2NvcGUudXNlcikge1xuICAgICAgICAgICAgICAgIHZhciByZXR1cm5VcmwgPSAkbG9jYXRpb24udXJsKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKS5zZWFyY2goe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5Vcmw6IHJldHVyblVybFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBVc2VyU2VydmljZS5jb2xsZWN0KHZtLmRpc2guX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXJTZXJ2aWNlLmNvbGxlY3Q6XCIsIGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB2bS5kaXNoLmlzQ29sbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZtLnNob3dJbnN0cnVjdGlvblBob3RvID0gZnVuY3Rpb24ocGhvdG9VcmwsICRldmVudCkge1xuICAgICAgICAgICAgaWYgKHBob3RvVXJsID09IG51bGwgfHwgcGhvdG9VcmwudHJpbSgpID09ICcnKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiAkZXZlbnQsXG4gICAgICAgICAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxtZC1kaWFsb2c+JyArXG4gICAgICAgICAgICAgICAgICAgICcgIDxtZC1kaWFsb2ctY29udGVudD48aW1nIHNyYz1cInt7cGhvdG99fVwiPjwvbWQtZGlhbG9nLWNvbnRlbnQ+JyArXG4gICAgICAgICAgICAgICAgICAgICc8L21kLWRpYWxvZz4nLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uIERpYWxvZ0N0cigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBob3RvID0gcGhvdG9Vcmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2bS5uZXdDb21tZW50ID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICBvcGVuQ29tbWVudERpYWxvZygnQ29tbWVudCcsICRldmVudCwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpbml0KCkge1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvcGVuQ29tbWVudERpYWxvZyh0aXRsZSwgJGV2ZW50LCByZXBseVRvKSB7XG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6ICRldmVudCxcbiAgICAgICAgICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbmcvdmlld3MvZGlhbG9ncy9jb21tZW50Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGxvY2Fsczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IGNvbW1lbnRDb250cm9sbGVyLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2NvbW1lbnQnXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBEaXNoU2VydmljZS5hZGRDb21tZW50KHZtLmRpc2guX2lkLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIHJlcGx5VG86IHJlcGx5VG9cbiAgICAgICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGNvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdm0uZGlzaC5jb21tZW50cy5wdXNoKGNvbW1lbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb21tZW50Q29udHJvbGxlcih0aXRsZSwgJG1kRGlhbG9nKSB7XG4gICAgICAgICAgICB2YXIgZHZtID0gdGhpcztcbiAgICAgICAgICAgIGR2bS5jb250ZW50ID0gJyc7XG4gICAgICAgICAgICBkdm0udGl0bGUgPSB0aXRsZTtcblxuICAgICAgICAgICAgZHZtLmNsb3NlRGlhbG9nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkdm0uc3VibWl0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKGR2bS5jb250ZW50LnRyaW0oKSA9PSAnJylcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZShkdm0uY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxuICAgIC8vY29udHJvbGxlciBhcHBsaWVkIHRvIGRpc2ggY3JlYXRpb24gcGFnZVxuICAgIC8vbm90IHVzZSBhbnltb3JlXG4gICAgLmNvbnRyb2xsZXIoJ0Rpc2hDcmVhdGVDb250cm9sbGVyJywgZnVuY3Rpb24oJGxvY2F0aW9uLCBEaXNoU2VydmljZSkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLmRpc2ggPSB7XG4gICAgICAgICAgICBuYW1lOiAnbmV3IGRpc2gnXG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uc2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdm0ucHJvY2Vzc2luZyA9IHRydWU7XG5cbiAgICAgICAgICAgIERpc2hTZXJ2aWNlLmNyZWF0ZSh2bS5kaXNoKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2FkbWluL2Rpc2gvJyArIGRhdGEuZGlzaC5faWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cblxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICB2bS50eXBlID0gJ2NyZWF0ZSc7XG4gICAgICAgICAgICB2bS5kaXNoID0ge1xuICAgICAgICAgICAgICAgIGluc3RydWN0aW9uczogW10sXG4gICAgICAgICAgICAgICAgcGhvdG86IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdm0ubmV3SW5zdHJ1Y3Rpb24gPSAnJztcbiAgICAgICAgICAgIHZtLm5ld1Bob3RvID0gJyc7XG4gICAgICAgICAgICB2bS5tZXNzYWdlID0gJyc7XG4gICAgICAgICAgICB2bS5wcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB2bS5kaXNoLmluc3RydWN0aW9ucy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgdm0uZGlzaC5waG90b3MubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLy9jb250cm9sbGVyIGFwcGxpZWQgdG8gZGlzaCBlZGl0IHBhZ2VcbiAgICAuY29udHJvbGxlcignRGlzaEVkaXRDb250cm9sbGVyJywgZnVuY3Rpb24oJHJvdXRlUGFyYW1zLCBEaXNoU2VydmljZSwgJGxvY2F0aW9uKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG4gICAgICAgIGluaXQoKTtcblxuICAgICAgICAvL2dldCB0aGUgZGlzaCBieSBpZFxuICAgICAgICBEaXNoU2VydmljZS5nZXQoJHJvdXRlUGFyYW1zLmRpc2hfaWQpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgdm0uZGlzaCA9IGRhdGE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZtLmFkZEluc3RydWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5kaXNoLmluc3RydWN0aW9ucy5wdXNoKHZtLm5ld0luc3RydWN0aW9uKTtcbiAgICAgICAgICAgIHZtLm5ld0luc3RydWN0aW9uID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICB2bS5yZW1vdmVJbnN0cnVjdGlvbiA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICB2bS5kaXNoLmluc3RydWN0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgdm0uYWRkUGhvdG8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibmV3UGhvdG86IFwiLCB2bS5uZXdQaG90byk7XG4gICAgICAgICAgICB2bS5kaXNoLnBob3Rvcy5wdXNoKHZtLm5ld1Bob3RvKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGlzaDpcIiwgdm0uZGlzaCk7XG4gICAgICAgICAgICB2bS5uZXdQaG90byA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdm0ucmVtb3ZlUGhvdG8gPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgdm0uZGlzaC5waG90b3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZtLnNhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZtLnByb2Nlc3NpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICBEaXNoU2VydmljZS51cGRhdGUoJHJvdXRlUGFyYW1zLmRpc2hfaWQsIHZtLmRpc2gpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIGluaXQoKTtcbiAgICAgICAgICAgICAgICB2bS5tZXNzYWdlID0gZGF0YS5tZXNzYWdlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICB2bS5uZXdQaG90byA9ICcnO1xuICAgICAgICAgICAgdm0ubmV3SW5zdHJ1Y3Rpb24gPSAnJztcbiAgICAgICAgICAgIHZtLm1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgIHZtLnByb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0pO1xuIixudWxsLCJhbmd1bGFyLm1vZHVsZSgnc3BpY3lUYXN0ZScpXG4gICAgLmNvbnRyb2xsZXIoJ0hvbWVDb250cm9sbGVyJywgZnVuY3Rpb24oRGlzaFNlcnZpY2UsIENPTlNUQU5UUykge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICBpbml0KCk7XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIHZtLnJlY2lwZVRpbGVzID0gW107XG4gICAgICAgICAgICBidWlsZEdyaWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkR3JpZCgpIHtcbiAgICAgICAgICAgIERpc2hTZXJ2aWNlLmxpbWl0KENPTlNUQU5UUy5MQVRFU1RfQ09VTlQpLnN1Y2Nlc3MoZnVuY3Rpb24oZGlzaGVzKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRpc2hlcywgZnVuY3Rpb24oZGlzaCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogZGlzaC5pbWFnZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkaXNoLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZGlzaC5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVwVGltZTogZGlzaC5wcmVwVGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVGltZTogZGlzaC50b3RhbFRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmaWN1bHR5OiBkaXNoLmRpZmZpY3VsdHksXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWdzOiBkaXNoLnRhZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaW5kZXggKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZS5zcGFuLnJvdyA9IHRpbGUuc3Bhbi5jb2wgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGUuc3Bhbi5jb2wgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbGUuc3Bhbi5yb3cgPSB0aWxlLnNwYW4uY29sID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlsZS5zcGFuLmNvbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2bS5yZWNpcGVUaWxlcy5wdXNoKHRpbGUpO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnc3BpY3lUYXN0ZScpXG4gICAgLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkbWREaWFsb2csICRodHRwLCBTZXNzaW9uU2VydmljZSwgVXNlclNlcnZpY2UsIENPTlNUQU5UUykge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuICAgICAgICBpbml0KCk7XG5cbiAgICAgICAgdm0udG9nZ2xlTW9iaWxlTWVudSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdm0uc2hvd01vYmlsZU1lbnUgPSAhdm0uc2hvd01vYmlsZU1lbnU7XG4gICAgICAgIH1cblxuICAgICAgICB2bS5zaG93TG9naW5EaWFsb2cgPSBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICAgICAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICduZy92aWV3cy9kaWFsb2dzL2xvZ2luLmh0bWwnLFxuICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTWFpbkNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ21haW4nXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmN1cnJlbnRVc2VyID0gdXNlcjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZtLmZiTG9naW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEZCLmxvZ2luKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9nZ2VkIGludG8geW91ciBhcHAgYW5kIEZhY2Vib29rLlxuICAgICAgICAgICAgICAgICAgICBGQi5hcGkoJy9tZScsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmJVc2VyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJOYW1lOiByZXNwb25zZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiByZXNwb25zZS5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogQ09OU1RBTlRTLlNPQ0lBTF9QQVNTLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvVXJsOiAnaHR0cDovL2dyYXBoLmZhY2Vib29rLmNvbS8nICsgcmVzcG9uc2UuaWQgKyAnL3BpY3R1cmU/dHlwZT1sYXJnZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlua2VkU29jaWFsOiBDT05TVEFOVFMuRkFDRUJPT0tcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNvY2lhbExvZ2luKGZiVXNlcikudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlci5sb2dpblR5cGUgPSBDT05TVEFOVFMuRkFDRUJPT0s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJBdXRoKHVzZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ25vdF9hdXRob3JpemVkJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgcGVyc29uIGlzIGxvZ2dlZCBpbnRvIEZhY2Vib29rLCBidXQgbm90IHlvdXIgYXBwLlxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBwZXJzb24gaXMgbm90IGxvZ2dlZCBpbnRvIEZhY2Vib29rLCBzbyB3ZSdyZSBub3Qgc3VyZSBpZlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGV5IGFyZSBsb2dnZWQgaW50byB0aGlzIGFwcCBvciBub3QuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHNjb3BlOiAncHVibGljX3Byb2ZpbGUsZW1haWwnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZtLmxvZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBVc2VyU2VydmljZS5sb2dpbih2bS5lbWFpbCwgdm0ucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24odXNlcikge1xuICAgICAgICAgICAgICAgIHVzZXIubG9naW5UeXBlID0gQ09OU1RBTlRTLkVNQUlMO1xuICAgICAgICAgICAgICAgIGFmdGVyQXV0aCh1c2VyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdm0uc2lnblVwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbmV3VXNlciA9IHtcbiAgICAgICAgICAgICAgICB1c2VyTmFtZTogdm0udXNlck5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHZtLmVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB2bS5wYXNzd29yZCxcbiAgICAgICAgICAgICAgICBwaG90b1VybDogJ2h0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci8nICsgbWQ1LmNyZWF0ZUhhc2godm0uZW1haWwpLFxuICAgICAgICAgICAgICAgIGxpbmtlZFNvY2lhbDogQ09OU1RBTlRTLkVNQUlMXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBVc2VyU2VydmljZS5jcmVhdGUobmV3VXNlcikudGhlbihmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgICAgICAgICAgdXNlci5sb2dpblR5cGUgPSBDT05TVEFOVFMuRU1BSUw7XG4gICAgICAgICAgICAgICAgYWZ0ZXJBdXRoKHVzZXIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyQXV0aCh1c2VyKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ107XG4gICAgICAgICAgICBTZXNzaW9uU2VydmljZS5zZXRMb2NhbChDT05TVEFOVFMuTE9DQUxfU1RPUkFHRV9LRVksIHRva2VuKTtcbiAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHVzZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIHZtLnNob3dNb2JpbGVNZW51ID0gZmFsc2U7XG4gICAgICAgICAgICB2bS5lbWFpbCA9IFwiXCI7XG4gICAgICAgICAgICB2bS5wYXNzd29yZCA9IFwiXCI7XG4gICAgICAgICAgICB2bS51c2VyTmFtZSA9IFwiXCI7XG5cbiAgICAgICAgICAgIHZhciBsb2dpbmVkVG9rZW4gPSBTZXNzaW9uU2VydmljZS5nZXRMb2NhbChDT05TVEFOVFMuTE9DQUxfU1RPUkFHRV9LRVkpO1xuICAgICAgICAgICAgaWYgKGxvZ2luZWRUb2tlbikge1xuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IGxvZ2luZWRUb2tlbjtcbiAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5nZXQoKS50aGVuKGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5jdXJyZW50VXNlciA9IHVzZXI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3NwaWN5VGFzdGUnKVxuICAgIC5jb250cm9sbGVyKCdQcm9maWxlQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRsb2NhdGlvbiwgJHJvb3RTY29wZSwgVXNlclNlcnZpY2UpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcbiAgICAgICAgaW5pdCgpO1xuXG4gICAgICAgIHZtLmxvZ291dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgVXNlclNlcnZpY2UubG9nb3V0KCk7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLmN1cnJlbnRVc2VyID0gbnVsbDtcbiAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIHZtLnVzZXIgPSB7fTtcbiAgICAgICAgICAgIFVzZXJTZXJ2aWNlLmdldCgpLnRoZW4oZnVuY3Rpb24odXNlcikge1xuICAgICAgICAgICAgICAgIHZtLnVzZXIgPSB1c2VyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3NwaWN5VGFzdGUnKVxuICAgIC5mYWN0b3J5KCdEaXNoU2VydmljZScsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgICAgICAgLy9jcmVhdGUgYSBuZXcgb2JqZWN0XG4gICAgICAgIHZhciBkaXNoRmFjdG9yeSA9IHt9O1xuXG4gICAgICAgIC8vZ2V0IGFsbCBkaXNoZXNcbiAgICAgICAgZGlzaEZhY3RvcnkuYWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2Rpc2hlcycpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vZ2V0IGxpbWl0ZWQgbGF0ZXN0IGRpc2hlc1xuICAgICAgICBkaXNoRmFjdG9yeS5saW1pdCA9IGZ1bmN0aW9uKG51bSkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9kaXNoZXM/bGltaXQ9JyArIG51bSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2NyZWF0ZSBhIGRpc2hcbiAgICAgICAgZGlzaEZhY3RvcnkuY3JlYXRlID0gZnVuY3Rpb24oZGlzaCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvZGlzaGVzJywgZGlzaCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9nZXQgYSBzaW5nbGUgZGlzaFxuICAgICAgICBkaXNoRmFjdG9yeS5nZXQgPSBmdW5jdGlvbihkaXNoX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2Rpc2hlcy8nICsgZGlzaF9pZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL3VwZGF0ZSBhIGRpc2hcbiAgICAgICAgZGlzaEZhY3RvcnkudXBkYXRlID0gZnVuY3Rpb24oZGlzaF9pZCwgZGlzaCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9kaXNoZXMvJyArIGRpc2hfaWQsIGRpc2gpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9kZWxldGUgYSBkaXNoXG4gICAgICAgIGRpc2hGYWN0b3J5LmRlbGV0ZSA9IGZ1bmN0aW9uKGRpc2hfaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5kZWxldGUoJy9hcGkvZGlzaGVzLycgKyBkaXNoX2lkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vYWRkIGEgY29tbWVudFxuICAgICAgICBkaXNoRmFjdG9yeS5hZGRDb21tZW50ID0gZnVuY3Rpb24oZGlzaF9pZCwgY29tbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvZGlzaGVzLycgKyBkaXNoX2lkICsgJy9jb21tZW50cycsIGNvbW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9nZXQgZGlmZmljdWx0eVxuICAgICAgICBkaXNoRmFjdG9yeS5nZXREaWZmaWN1bHRpZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBbJ+WIneWtpicsICflrrnmmJMnLCAn5LiA6IisJywgJ+i+g+mavicsICfkuJPkuJonXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlzaEZhY3Rvcnk7XG4gICAgfSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnc3BpY3lUYXN0ZScpXG4gICAgLmZhY3RvcnkoJ1Nlc3Npb25TZXJ2aWNlJywgZnVuY3Rpb24oJHdpbmRvdykge1xuICAgICAgICB2YXIgc2Vzc2lvbkZhY3RvcnkgPSB7fTtcblxuICAgICAgICBzZXNzaW9uRmFjdG9yeS5nZXRMb2NhbCA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgaWYgKCR3aW5kb3cubG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5mcm9tSnNvbihkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlc3Npb25GYWN0b3J5LnNldExvY2FsID0gZnVuY3Rpb24oa2V5LCBkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UgJiYgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGFuZ3VsYXIudG9Kc29uKGRhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZXNzaW9uRmFjdG9yeTtcblxuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3NwaWN5VGFzdGUnKVxuICAgIC5mYWN0b3J5KCdTb2NpYWxTZXJ2aWNlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzb2NpYWxGYWN0b3J5ID0ge307XG5cbiAgICAgICAgc29jaWFsRmFjdG9yeS5mYlNoYXJlID0gZnVuY3Rpb24obGluaykge1xuICAgICAgICAgICAgRkIudWkoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ3NoYXJlJyxcbiAgICAgICAgICAgICAgICBocmVmOiBsaW5rLFxuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb2NpYWxGYWN0b3J5O1xuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3NwaWN5VGFzdGUnKVxuICAgIC5mYWN0b3J5KCdVc2VyU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCAkcm9vdFNjb3BlLCAkd2luZG93LCBDT05TVEFOVFMpIHtcbiAgICAgICAgdmFyIHVzZXJGYWN0b3J5ID0ge307XG4gICAgICAgIC8vc29jaWFsIGxvZ2luXG4gICAgICAgIHVzZXJGYWN0b3J5LnNvY2lhbExvZ2luID0gZnVuY3Rpb24oc29jaWFsVXNlcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzb2NpYWxVc2VyOiBcIiwgc29jaWFsVXNlcik7XG5cbiAgICAgICAgICAgIHJldHVybiB1c2VyRmFjdG9yeS5zZWFyY2hCeSgnZW1haWw9JyArIHNvY2lhbFVzZXIuZW1haWwpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9ub3QgZm91bmQsIHRoZW4gY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyRmFjdG9yeS5jcmVhdGUoc29jaWFsVXNlcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy9mb3VuZCB0aGUgdXNlciB3aXRoIGVtYWlsXG4gICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBsaW5rZWQgc29jaWFsIGlmIG5vdCBhZGRlZFxuICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciA9IGRhdGEudXNlcnNbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyLmxpbmtlZFNvY2lhbC5pbmRleE9mKHNvY2lhbFVzZXIubGlua2VkU29jaWFsKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIubGlua2VkU29jaWFsLnB1c2goc29jaWFsVXNlci5saW5rZWRTb2NpYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlci51c2VyTmFtZSA9IHNvY2lhbFVzZXIudXNlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyLnBob3RvVXJsID0gc29jaWFsVXNlci5waG90b1VybDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJGYWN0b3J5LnVwZGF0ZSh1c2VyKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyRmFjdG9yeS5sb2dpbih1c2VyLmVtYWlsLCBDT05TVEFOVFMuU09DSUFMX1BBU1MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlckZhY3RvcnkubG9naW4odXNlci5lbWFpbCwgQ09OU1RBTlRTLlNPQ0lBTF9QQVNTKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9sb2dpbiB1c2VyXG4gICAgICAgIHVzZXJGYWN0b3J5LmxvZ2luID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2F1dGgnLCB7XG4gICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUF1dGgnXSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJGYWN0b3J5LmdldCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vbG9nb3V0IHVzZXJcbiAgICAgICAgdXNlckZhY3RvcnkubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkZWxldGUgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtQXV0aCddO1xuICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShDT05TVEFOVFMuTE9DQUxfU1RPUkFHRV9LRVkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9nZXQgY3VycmVudCB1c2VyXG4gICAgICAgIHVzZXJGYWN0b3J5LmdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy9tZScpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9zZWFyY2ggdXNlciBieSBmaWVsZFxuICAgICAgICB1c2VyRmFjdG9yeS5zZWFyY2hCeSA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzPycgKyBxdWVyeSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2dldCB1c2VyIGJ5IGlkXG4gICAgICAgIHVzZXJGYWN0b3J5LmdldEJ5SWQgPSBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzLycgKyB1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY3JlYXRlIGEgbmV3IHVzZXJcbiAgICAgICAgdXNlckZhY3RvcnkuY3JlYXRlID0gZnVuY3Rpb24odXNlcikge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMvJywgdXNlcikudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckZhY3RvcnkubG9naW4odXNlci5lbWFpbCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vdXBkYXRlIHVzZXJcbiAgICAgICAgdXNlckZhY3RvcnkudXBkYXRlID0gZnVuY3Rpb24odXNlcl9pZCwgdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy8nICsgdXNlcl9pZCwgdXNlcikudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2NvbGxlY3QgZGlzaCBhcyBmYXZvdXJpdGVcbiAgICAgICAgdXNlckZhY3RvcnkuY29sbGVjdCA9IGZ1bmN0aW9uKGRpc2hfaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvJyArICRyb290U2NvcGUudXNlci5faWQgKyAnL2Rpc2hlcy8nICsgZGlzaF9pZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXNlckZhY3Rvcnk7XG4gICAgfSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=